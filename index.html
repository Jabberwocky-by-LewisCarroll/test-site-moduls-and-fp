<!--Странцица с формой авторизации.-->

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Авторизация</title>
    <link rel="stylesheet" href="src/styles/main.css">
    <script src="src/scripts/index.js"></script>
</head>
<body>

    <div class="main-wrapper">
        <!-- Форма для авторизации -->
        <div class="form-wrapper__auth-reg">
            <h1>Авторизация</h1>
            <form class="form">
                <input type="text" name="login" placeholder="Логин">
                <input type="password" id="passwordInput" name="password" placeholder="Пароль">
                <div class='flex-row'>
                    <p>Показать пароль: </p>
                    <input type="checkbox" id="togglePasswordType" class="input__password-type">
                </div>
                <button type="submit" class="link-btn">Войти</button>
            </form>
            <div class="space__2rem"></div>
            <a href="public/reg.html" class="link-btn">Зарегистрироваться</a>
            <div class="space__2rem"></div>
        </div>
        <!-- Контейнер для тестовых данных авторизации -->
         <h3>Тестовые данные для авторизации</h3>
         <div class="test-data__container" id="test-data-container"></div>
         <script>
            const container = document.querySelector('#test-data-container');
            const testData = [
                {login: '5652513695', password: 'hlufkk'},
                {login: 'cucumber', password: 'potato'},
                {login: 'duck', password: 'cat'},
                {login: 'monkey', password: 'dog'},
                {login: 'Polina', password: 'capricorn'},
                {login: 'Igor', password: '1234'},
                {login: 'zombie', password: 'abcd'},
                {login: 'Limon', password: 'lime'},
                {login: 'King', password: 'queen'},
            ];

            function insertTestData (users) {
                return users.map(user => `
                    <div class="test-data__input-draggable">
                            <p>Логин: <span>${user.login}</span></p>
                            <p>Пароль: <span>${user.password}</span></p>
                    </div>
                `).join('');
            };

            container.innerHTML = insertTestData(testData);
         </script>
        <!--
        Кнопка для перехода к списку объектов V2 (Ссылка полностью стилизована как кнопка)
        [ ВРЕМЕННО ]
         -->
        <div class="mrg-horizon-center">
            <a class="link-btn" id="backDoor" href="#">Перейти к списку объектов V2</a>
            <script>
                const btnBackDoor = document.querySelector('#backDoor');
                function backDoorSessionIDCheck (sessionID) {
                    if (!sessionID) {
                        localStorage.setItem('sessionID', '4346b151-bb65-41d9-aa58-a42caab0d073');
                    }
                }
                if (btnBackDoor) {
                    const sessionID = localStorage.getItem('sessionID');
                    btnBackDoor.addEventListener('click', () => {
                    backDoorSessionIDCheck(sessionID);
                    window.location.href = 'public/getObjectsV2.html';
                    });
                };
            </script>
        </div>
    </div>
</body>
</html>